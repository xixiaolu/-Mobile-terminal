new class{constructor(t){this.el=t.el,this.showFindAllButton=t.showFindAllButton,this.textCount=t.textCount,this.findAllButtonText=t.findAllButtonText||"收起",this.flag=!0}exec(){var t=this.el.textContent;this.el.textContent=this.format(t,this.textCount),this.showFindAllButton&&this.addButton(t,this.textCount)}addButton(t,e){var n=this,l=document.createElement("a");l.textContent=this.findAllButtonText,this.el.appendChild(l),l.addEventListener("click",(function(){n.flag=!n.flag,this.textcontent=n.flag?n.findAllButtonText:"查看全部",n.el.childNodes[0].textContent=n.flag?n.format(t,e)+"...":t}))}format(t,e){return t.length>e?t.substring(0,e)+"...":t}}({el:document.querySelector(".box"),textCount:150,findAllButtonText:"查看所有",showFindAllButton:!0}).exec();